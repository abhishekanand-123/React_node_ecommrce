{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import \"./CartPage.css\";\n// import { useNavigate } from \"react-router-dom\";\n\n// function CartPage() {\n//   const [items, setItems] = useState([]);\n//   const userId = 1;\n//   const navigate = useNavigate();\n\n//   // Get Cart Items\n//   const loadCart = async () => {\n//     const res = await fetch(`http://localhost:5000/cart/${userId}`);\n//     const data = await res.json();\n//     setItems(data);\n//   };\n\n//   useEffect(() => {\n//     loadCart();\n//   }, []);\n\n//   // Update Quantity\n//   const updateQty = async (cart_id, currentQty, type) => {\n//     let newQty = type === \"inc\" ? currentQty + 1 : currentQty - 1;\n//     if (newQty < 1 || newQty > 5) return;\n\n//     await fetch(\"http://localhost:5000/cart/update\", {\n//       method: \"POST\",\n//       headers: { \"Content-Type\": \"application/json\" },\n//       body: JSON.stringify({ cart_id, qty: newQty }),\n//     });\n\n//     setItems((prevItems) =>\n//       prevItems.map((item) =>\n//         item.cart_id === cart_id ? { ...item, qty: newQty } : item\n//       )\n//     );\n//   };\n\n//   // Remove Item\n//   const removeItem = async (cart_id) => {\n//     await fetch(`http://localhost:5000/cart/remove/${cart_id}`, {\n//       method: \"DELETE\",\n//     });\n\n//     setItems(items.filter((item) => item.cart_id !== cart_id));\n//   };\n\n//   // Total Price Calculation\n//   const totalAmount = items.reduce(\n//     (sum, item) => sum + item.price * item.qty,\n//     0\n//   );\n\n//   // Checkout Page Navigation\n//   const handleCheckout = () => {\n//     navigate(\"/checkout\", { state: { totalAmount } });\n//   };\n\n//   // View Cart Products Page\n//   const handleViewProducts = () => {\n//     navigate(\"/view-products\", { state: { items, totalAmount } });\n//   };\n\n//   return (\n//     <div className=\"cart-container\">\n//       <h2>Your Cart</h2>\n\n//       {items.length === 0 ? (\n//         <p className=\"empty-cart\">Your cart is empty.</p>\n//       ) : (\n//         <table className=\"cart-table\">\n//           <thead>\n//             <tr>\n//               <th>Image</th>\n//               <th>Product</th>\n//               <th>Qty</th>\n//               <th>Price</th>\n//               <th>Total</th>\n//               <th>Remove</th>\n//             </tr>\n//           </thead>\n\n//           <tbody>\n//             {items.map((item) => (\n//               <tr key={item.cart_id}>\n//                 <td>\n//                   <img\n//                     src={`http://localhost:5000/uploads/${item.image}`}\n//                     alt={item.title}\n//                     className=\"cart-img\"\n//                   />\n//                 </td>\n\n//                 <td>{item.title}</td>\n\n//                 <td>\n//                   <button\n//                     className=\"qty-btn\"\n//                     onClick={() => updateQty(item.cart_id, item.qty, \"dec\")}\n//                     disabled={item.qty <= 1}\n//                   >\n//                     -\n//                   </button>\n\n//                   <span className=\"qty\">{item.qty}</span>\n\n//                   <button\n//                     className=\"qty-btn\"\n//                     onClick={() => updateQty(item.cart_id, item.qty, \"inc\")}\n//                     disabled={item.qty >= 5}\n//                   >\n//                     +\n//                   </button>\n//                 </td>\n\n//                 <td>₹{item.price}</td>\n//                 <td>₹{item.price * item.qty}</td>\n\n//                 <td>\n//                   <button\n//                     className=\"remove-btn\"\n//                     onClick={() => removeItem(item.cart_id)}\n//                   >\n//                     Remove\n//                   </button>\n//                 </td>\n//               </tr>\n//             ))}\n//           </tbody>\n//         </table>\n//       )}\n\n//       {/* Grand Total + Buttons */}\n//       <div className=\"checkout-box\">\n//         <h3 className=\"total-box\">Grand Total: ₹{totalAmount}</h3>\n\n//         {items.length > 0 && (\n//           <>\n//             <button className=\"checkout-btn\" onClick={handleCheckout}>\n//               Proceed to Checkout\n//             </button>\n\n//             <button className=\"view-products-btn\" onClick={handleViewProducts}>\n//               View Products\n//             </button>\n//           </>\n//         )}\n//       </div>\n//     </div>\n//   );\n// }\n\n// export default CartPage;","map":{"version":3,"names":[],"sources":["C:/Users/ASD/Desktop/react_project/my-app/src/pages/CartPage.jsx"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\r\n// import \"./CartPage.css\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n\r\n// function CartPage() {\r\n//   const [items, setItems] = useState([]);\r\n//   const userId = 1;\r\n//   const navigate = useNavigate();\r\n\r\n//   // Get Cart Items\r\n//   const loadCart = async () => {\r\n//     const res = await fetch(`http://localhost:5000/cart/${userId}`);\r\n//     const data = await res.json();\r\n//     setItems(data);\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     loadCart();\r\n//   }, []);\r\n\r\n//   // Update Quantity\r\n//   const updateQty = async (cart_id, currentQty, type) => {\r\n//     let newQty = type === \"inc\" ? currentQty + 1 : currentQty - 1;\r\n//     if (newQty < 1 || newQty > 5) return;\r\n\r\n//     await fetch(\"http://localhost:5000/cart/update\", {\r\n//       method: \"POST\",\r\n//       headers: { \"Content-Type\": \"application/json\" },\r\n//       body: JSON.stringify({ cart_id, qty: newQty }),\r\n//     });\r\n\r\n//     setItems((prevItems) =>\r\n//       prevItems.map((item) =>\r\n//         item.cart_id === cart_id ? { ...item, qty: newQty } : item\r\n//       )\r\n//     );\r\n//   };\r\n\r\n//   // Remove Item\r\n//   const removeItem = async (cart_id) => {\r\n//     await fetch(`http://localhost:5000/cart/remove/${cart_id}`, {\r\n//       method: \"DELETE\",\r\n//     });\r\n\r\n//     setItems(items.filter((item) => item.cart_id !== cart_id));\r\n//   };\r\n\r\n//   // Total Price Calculation\r\n//   const totalAmount = items.reduce(\r\n//     (sum, item) => sum + item.price * item.qty,\r\n//     0\r\n//   );\r\n\r\n//   // Checkout Page Navigation\r\n//   const handleCheckout = () => {\r\n//     navigate(\"/checkout\", { state: { totalAmount } });\r\n//   };\r\n\r\n//   // View Cart Products Page\r\n//   const handleViewProducts = () => {\r\n//     navigate(\"/view-products\", { state: { items, totalAmount } });\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"cart-container\">\r\n//       <h2>Your Cart</h2>\r\n\r\n//       {items.length === 0 ? (\r\n//         <p className=\"empty-cart\">Your cart is empty.</p>\r\n//       ) : (\r\n//         <table className=\"cart-table\">\r\n//           <thead>\r\n//             <tr>\r\n//               <th>Image</th>\r\n//               <th>Product</th>\r\n//               <th>Qty</th>\r\n//               <th>Price</th>\r\n//               <th>Total</th>\r\n//               <th>Remove</th>\r\n//             </tr>\r\n//           </thead>\r\n\r\n//           <tbody>\r\n//             {items.map((item) => (\r\n//               <tr key={item.cart_id}>\r\n//                 <td>\r\n//                   <img\r\n//                     src={`http://localhost:5000/uploads/${item.image}`}\r\n//                     alt={item.title}\r\n//                     className=\"cart-img\"\r\n//                   />\r\n//                 </td>\r\n\r\n//                 <td>{item.title}</td>\r\n\r\n//                 <td>\r\n//                   <button\r\n//                     className=\"qty-btn\"\r\n//                     onClick={() => updateQty(item.cart_id, item.qty, \"dec\")}\r\n//                     disabled={item.qty <= 1}\r\n//                   >\r\n//                     -\r\n//                   </button>\r\n\r\n//                   <span className=\"qty\">{item.qty}</span>\r\n\r\n//                   <button\r\n//                     className=\"qty-btn\"\r\n//                     onClick={() => updateQty(item.cart_id, item.qty, \"inc\")}\r\n//                     disabled={item.qty >= 5}\r\n//                   >\r\n//                     +\r\n//                   </button>\r\n//                 </td>\r\n\r\n//                 <td>₹{item.price}</td>\r\n//                 <td>₹{item.price * item.qty}</td>\r\n\r\n//                 <td>\r\n//                   <button\r\n//                     className=\"remove-btn\"\r\n//                     onClick={() => removeItem(item.cart_id)}\r\n//                   >\r\n//                     Remove\r\n//                   </button>\r\n//                 </td>\r\n//               </tr>\r\n//             ))}\r\n//           </tbody>\r\n//         </table>\r\n//       )}\r\n\r\n//       {/* Grand Total + Buttons */}\r\n//       <div className=\"checkout-box\">\r\n//         <h3 className=\"total-box\">Grand Total: ₹{totalAmount}</h3>\r\n\r\n//         {items.length > 0 && (\r\n//           <>\r\n//             <button className=\"checkout-btn\" onClick={handleCheckout}>\r\n//               Proceed to Checkout\r\n//             </button>\r\n\r\n//             <button className=\"view-products-btn\" onClick={handleViewProducts}>\r\n//               View Products\r\n//             </button>\r\n//           </>\r\n//         )}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n// export default CartPage;\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}